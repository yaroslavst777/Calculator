# Calculator
Данное приложение вычисляет арифметическое выражение отправленное на сервер 
в виде POST запроса в формате JSON {"expression": "выражение"}
и возвращает ответ в формате JSON {"result": "ответ"}, либо {"error": "ошибка"}

1. Запуск проекта

Для запуска проекта напишите в командной строке Вашей IDE команду:
go run cmd\main.go

2. Использование приложения

Для отправки запроса на вычисление введите в Git Bash команду:
curl --location 'localhost:8080/api/v1/calculate' --header 'Content-Type: application/json' --data '{"expression": "2+2*2"}'

Вы можете указывать Ваше собственное арифметическое выражение для вычисления (в примере указано выражение: 2+2*2)
Допустимые символы: цифры от 0 до 9 и знаки +,-,*,/

3. Описание принципа работы приложения

Приложение запускает сервер и прослуживает порт 8080, указан в конфигурации.
При получении POST запроса обработка передается функции CalcHandler.
CalcHandler выполняет проверку типа запроса. Если получен не POST запрос, то сервер 
возвращает ответ со статусом 500 (StatusInternalServerError).
Далее создается буфер, в который читается тело запроса, в случае ошибки сервер
возвращает ответ со статусом 500 (StatusInternalServerError).
Прочитанные данные декодируются и записываются в объект типа RequestData.
В поле Expression этого объекта хранится арифметическое выражение, которое передается
в функцию Calc пакета calculation.
Функция Calc производит вычисление арифметичкого выражения и возвращает число, либо ошибку,
перечень которых опредеден в файле errors.go пакета calculation.
В случае ошибки вычисления, сервер возвращает ответ со статусом 422 (StatusUnprocessableEntity).
Ответы логируются в файл log.txt.

4. Тестирование приложения

Для тестирования функции Calc используются автоматические тесты в файле calculation/calculation_test.go.
Для тестирования cервера используются автоматические тесты в файле application/application_test.go.

5. Примеры запросов

Запрос с правильным ответом и кодом 200:
curl --location 'localhost:8080/api/v1/calculate' --header 'Content-Type: application/json' --data '{"expression": "2+2*2"}'

Запрос с ошибкой в выражении и кодом 422:
curl --location 'localhost:8080/api/v1/calculate' --header 'Content-Type: application/json' --data '{"expression": "2+2*а2"}'

Запрос с ошибкой сервера и кодом 500:
curl --location 'localhost:8080/api/v1/calculate' --header 'Content-Type: application/json' --data '{"expression": 2+2*2"}'






